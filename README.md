# Image Map Visualizer 影像熱區標示工具

A tiny, zero-dependency web tool that turns any HTML image map into a centered, responsive image with **colored hotspot overlays** and tooltips.

一個零相依性的輕量級網頁工具，讓任何 HTML Image Map 變成**置中、可自適應縮放**，並在標記區域上顯示**彩色半透明區塊與提示文字**。

---

## Features 功能特色

- **Works with any image map** generated by tools like [image-map.net](http://www.image-map.net/)
- **Supports any number of areas** – rectangle (`rect`), circle (`circle`), polygon (`poly`)
- **Responsive & centered** – image scales with the window, always centered
- **Colored overlays** for each `<area>` drawn on a `<canvas>` layer
- **Tooltips** showing `title` or `alt` on hover/focus
- **No build step, no dependencies** – pure HTML + CSS + JS

- **可搭配任何 Image Map 工具**（例如 [image-map.net](http://www.image-map.net/)）
- **不限區域數量**：支援矩形 (`rect`)、圓形 (`circle`)、多邊形 (`poly`)
- **自適應置中顯示**：影像會隨瀏覽器大小縮放，並置中呈現
- **彩色半透明覆蓋層**：每一個 `<area>` 都會用 `<canvas>` 畫出彩色熱區
- **提示框 Tooltip**：滑鼠滑過或鍵盤聚焦時會顯示 `title` 或 `alt`
- **無需編譯或外部套件**：純 HTML + CSS + JS，直接開啟即可用

---

## Project Structure 專案結構

```text
image-map-visualizer/
├─ index.html          # Minimal HTML – users paste their image + map here
├─ styles.css          # Centering, basic layout, tooltip styles
└─ image-map-simple.js # JS library for responsive colored hotspots
```

```text
image-map-visualizer/
├─ index.html          # 精簡 HTML：使用者只需在此貼上 image + map
├─ styles.css          # 置中、基本排版與 Tooltip 樣式
└─ image-map-simple.js # 實作彩色熱區與自適應縮放的 JS 函式庫
```

---

## Quick Start 快速開始

### 1. Clone the repository 取得專案原始碼

```bash
git clone https://github.com/digimarketingai/image-map-visualizer.git
cd image-map-visualizer
```

### 2. Open `index.html` 開啟 `index.html`

You can simply double‑click `index.html` or serve it with any static server (optional):

可以直接在檔案總管中雙擊 `index.html`，或使用任意靜態伺服器（選用）：

```bash
# Optional 選用
npx serve .
```

Then open the shown URL in your browser.

接著在瀏覽器中開啟顯示的網址。

---

## How to Use 使用方式

### Step 1: Prepare your image map 準備你的 Image Map

Use a tool like [image-map.net](http://www.image-map.net/) to generate an `<img>` + `<map>` block.

可以使用 [image-map.net](http://www.image-map.net/) 等工具，產生一段 `<img>` + `<map>` 的 HTML 片段。

Example / 範例：

```html
<!-- Image Map Generated by http://www.image-map.net/ -->
<img
  id="map-image"
  src="https://upload.wikimedia.org/wikipedia/commons/7/78/JourneytotheWest.jpg"
  usemap="#image-map"
  alt="Sample image"
/>

<map name="image-map">
  <area
    target=""
    alt="Monkey King"
    title="Monkey King"
    href=""
    coords="656,78,745,177"
    shape="rect"
  />
  <area
    target=""
    alt="Xuanzang"
    title="Xuanzang"
    href=""
    coords="912,127,59"
    shape="circle"
  />
  <area
    target=""
    alt="Wujing"
    title="Wujing"
    href=""
    coords="1094,150,1039,155,1013,257,1123,242"
    shape="poly"
  />
</map>
```

### Step 2: Paste into `index.html` 貼到 `index.html` 指定區塊

Open `index.html` and find the block marked `<!-- USER IMAGE MAP START -->`  
Replace the example `<img>` and `<map>` with your own code.

開啟 `index.html`，找到註解 `<!-- USER IMAGE MAP START -->`  
將範例的 `<img>` 與 `<map>` 整段替換成你自己的 Image Map 程式碼。

**Important 要點：**

- Keep `id="map-image"` on the `<img>` element.  
- Make sure `usemap="#image-map"` matches `<map name="image-map">`.  
- You can add/remove as many `<area>` elements as you like.

- 請保留 `<img>` 上的 `id="map-image"`。  
- `usemap="#image-map"` 必須與 `<map name="image-map">` 名稱相同。  
- `<area>` 標籤的數量與內容可以自由增減。

### Step 3: Refresh the browser 刷新瀏覽器

After saving, refresh the browser tab with `index.html`:

儲存檔案後，回到瀏覽器並重新整理 `index.html` 頁面，即可看到：

- Centered, responsive image  
- Colored overlays for each tagged area  
- Tooltips showing the region name on hover/focus  

畫面將會顯示：

- 置中、可自適應大小的影像  
- 每個標記區域都有彩色半透明覆蓋層  
- 滑鼠或鍵盤聚焦時顯示該區域的名稱 Tooltip  

---

## How It Works 運作原理

- JavaScript finds the `<img id="map-image">` and its `<map>` via `usemap`.
- Original `coords` are stored based on the image’s **natural size**.
- On window resize:
  - `<area>` coordinates are re‑scaled to match the displayed image size.
  - A `<canvas>` overlay is resized and each region is drawn in color.
- Colors come from a small palette and are assigned in order (`index % palette.length`).
- Tooltip text is taken from `area.title` (fallback: `area.alt`).

- JavaScript 會找到 `<img id="map-image">` 及其對應的 `<map>`（透過 `usemap`）。  
- 會先記錄各 `<area>` 在原始影像尺寸下的 `coords`。  
- 視窗大小變動時：
  - 依照影像目前顯示尺寸重新計算 `<area>` 座標。
  - 調整 `<canvas>` 尺寸，在其上畫出每個熱區的彩色覆蓋層。
- 顏色使用一組預設調色盤，依序分配（`index % palette.length`）。  
- Tooltip 會優先顯示 `area.title`，若無則使用 `area.alt`。

---

## Customization 自訂調整

If you want to customize behavior, you can edit:

如需更多客製化，可以修改下列內容：

- **Colors / 顏色**  
  In `image-map-simple.js`, adjust the `colors` array:

  在 `image-map-simple.js` 裡更改 `colors` 陣列：

  ```javascript
  const colors = [
    "#f97316", // orange / 橘色
    "#3b82f6", // blue  / 藍色
    "#22c55e", // green / 綠色
    "#e11d48", // pink  / 粉紅紅
    "#a855f7", // purple/ 紫色
    "#facc15", // yellow/ 黃色
  ];
  ```

- **Tooltip style / Tooltip 樣式**  
  Edit `.map-tooltip` in `styles.css` to change font, background, border, etc.

  可以在 `styles.css` 中調整 `.map-tooltip` 的字型、背景、邊框等外觀。

- **Background / 背景**  
  Modify `html, body` in `styles.css` to change page background color or font.

  想變更整體頁面背景或字型，可修改 `styles.css` 裡的 `html, body` 設定。

---

## Browser Support 瀏覽器支援

- Modern browsers (Chrome, Edge, Firefox, Safari) with basic Canvas & JavaScript support.
- No special APIs, no transpilation required.

- 支援現代瀏覽器（Chrome、Edge、Firefox、Safari），只需支援基本 Canvas 與 JavaScript。  
- 不需要額外 Polyfill 或編譯流程。
